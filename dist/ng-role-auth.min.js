!function(){function a(a,b){a.$on("$routeChangeStart",b.onChange)}var b=document.createElement("style");b.type="text/css",b.innerHTML=".nra-hide { display: none !important; }",document.getElementsByTagName("head")[0].appendChild(b);var c=angular.module("ngRoleAuth",[]);c.constant("NRA_MSG",{accessDenied:"nra.access_denied"}),c.run(["$rootScope","AuthService",a])}(),function(){function a(a,c){function d(d,e){function f(){c.isAuthorized(d.authorized)?g&&(e.removeClass("nra-hide"),g=!1):g||(e.addClass("nra-hide"),g=!0)}var g=(e.parent(),!1);f(),a(f,b)}var e={restrict:"A",scope:{authorized:"=nraAuth"},link:d};return e}var b=5e3;angular.module("ngRoleAuth").directive("nraAuth",["$interval","AuthService",a])}(),function(){function a(a,b,c,d,e,f){var g=this;this.getRole=function(){var a=e.defer();return a.resolve(null),a.promise},this.isAuthorized=function(a){var b=e.defer();return"string"==typeof a&&(a=[a]),g.getRole().then(function(c){"string"==typeof c&&(c=[c]);var d=!0;if(a[0]){d=!1;for(var e=0;e<c.length;e++)if(-1!==a.indexOf(c[e])){d=!0;break}}b.resolve(d)}),b.promise},this.onChange=function(d,e,h){var i=e.$$route&&e.$$route.authorized?e.$$route.authorized:[];g.isAuthorized(i).then(function(d){if(!d)if(a.$broadcast(f.accessDenied,e.$$route?e.$$route.originalPath:""),console.error("Access denied on unauthorized root:",e.$$route?e.$$route.originalPath:""),console.error("Reloading..."),h&&h.$$route)c.path(h.$$route.originalPath).replace();else{var g="/";b.routes[null]&&(g=b.routes[null].redirectTo),c.path(g).replace()}})}}angular.module("ngRoleAuth").service("AuthService",["$rootScope","$route","$location","$window","$q","NRA_MSG",a])}();